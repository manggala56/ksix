import{r as t,S as C,j as e,a as y,J as _}from"./app.By_I8VkP.js";import{A as k}from"./admin-navbar.Cn6uXLoZ.js";import{I as m}from"./input-error.DqJPfYa0.js";import{M as E,a as M,b as A,c as P,S as B}from"./modal.BC6d9c4D.js";import{B as l}from"./button.Bpplc5n2.js";import{L as i}from"./label.D8YhVCLY.js";import{T as x,S as J,a as T,b as D,c as I,d as L,e as j}from"./textarea.bBOhNvX3.js";import{X as F}from"./x.Bf_lh8m7.js";import{C as K}from"./index.D7upjfQR.js";import{A as R}from"./clock.CdfSALo1.js";import{D as V}from"./dot.DXq1ZhLs.js";import"./book.CjRBVNk-.js";import"./index.CRO0R9nZ.js";import"./index.DCAyhUcG.js";import"./Combination.dbN5pJxv.js";function re({bookings:h}){const[u,v]=t.useState(h),[f,r]=t.useState(!1),[a,p]=t.useState(null),{data:n,setData:c,post:N,processing:b,errors:d,reset:o}=C({answer:"",note_to_customer:"",id_customer:(a==null?void 0:a.id_user.toString())||""});t.useEffect(()=>(window.Echo.channel("bookings").listen("NewBookingCreated",s=>{v(S=>[s.booking,...S])}),()=>{window.Echo.leaveChannel("bookings")}),[]);function g(s){p(s),o(),r(!0)}const w=s=>{s.preventDefault(),a&&N(route("booking.list",{booking:a.id}),{onSuccess:()=>{r(!1),o()}})};return e.jsxs(e.Fragment,{children:[e.jsx(E,{status:f,setter:r,children:e.jsxs("form",{onSubmit:w,children:[e.jsxs("div",{className:"mb-2 flex justify-between",children:[e.jsx(M,{children:"Edit Booking"}),e.jsx(F,{className:"cursor-pointer",onClick:()=>r(!1)})]}),e.jsx("div",{className:"mb-3",children:e.jsx("div",{className:"h-[1px] w-full bg-white"})}),e.jsx(A,{children:e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx(i,{children:"Nama Customer"}),e.jsx("div",{className:"font-montserrat-regular text-xl font-semibold text-white",children:(a==null?void 0:a.customer_name)||"Customer"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(i,{children:"Catatan Customer"}),e.jsx(x,{value:(a==null?void 0:a.customer_note)||"",readOnly:!0})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(i,{children:"Beri Jawaban"}),e.jsxs(J,{value:n.answer,onValueChange:s=>c("answer",s),children:[e.jsx(T,{children:e.jsx(D,{placeholder:"Pilih Jawaban"})}),e.jsx(I,{children:e.jsxs(L,{children:[e.jsx(j,{value:"decline",children:"Tolak"}),e.jsx(j,{value:"accept",children:"ACC"})]})})]}),e.jsx(m,{message:d.answer})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(i,{children:"Catatan Ke Customer"}),e.jsx(x,{value:n.note_to_customer,onChange:s=>c("note_to_customer",s.target.value),placeholder:"Sorry bro wes kebek..."}),e.jsx(m,{message:d.note_to_customer})]})]})}),e.jsx(P,{children:e.jsx("div",{className:"mb-3",children:e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(l,{type:"button",onClick:()=>r(!1),variant:"secondary",children:"Cancel"}),e.jsxs(l,{type:"submit",variant:"primary",disabled:b,children:[e.jsx(K,{})," Simpan"]})]})})})]})}),e.jsx(y,{title:"Admin Panel"}),e.jsx(k,{}),e.jsxs("div",{className:"px-5 py-3",children:[e.jsx("div",{className:"mb-5",children:e.jsx("div",{className:"flex items-center justify-between pe-3",children:e.jsx(_,{href:"/",children:e.jsxs(l,{variant:"outline",children:[e.jsx(R,{})," Kembali"]})})})}),e.jsxs("div",{className:"mb-10",children:[e.jsxs("div",{className:"font-montserrat-regular mb-1 flex",children:["Booking Masuk ",e.jsx(V,{className:"stroke-[5px] text-red-500"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6",children:u.map(s=>e.jsxs("div",{className:"rounded-md border border-neutral-200 px-3 py-3",children:[e.jsx("div",{className:"mb-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-neutral-300",children:"Nama Customer"}),e.jsxs("div",{className:"font-montserrat-regular text-md font-semibold",children:[s.customer_name," (",s.phone,")"]})]})})}),e.jsx("div",{className:"mb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-neutral-300",children:"Ruangan"}),e.jsx("div",{className:"font-montserrat-regular text-lg font-semibold",children:s.room})]}),e.jsxs("div",{className:"text-end",children:[e.jsx("div",{className:"text-xs text-neutral-300",children:"Seri PS"}),e.jsx("div",{className:"font-gyrochrome text-md",children:s.series})]})]})}),e.jsxs("div",{className:"mb-1",children:[e.jsx("div",{className:"text-xs text-neutral-300",children:"Tanggal dan Waktu"}),e.jsx("div",{className:"font-montserrat-regular text-lg font-semibold",children:s.datetime})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("div",{className:"text-xs text-neutral-300",children:"Catatan Customer"}),e.jsx("div",{className:"line-clamp-2",children:s.customer_note})]}),e.jsx("div",{children:e.jsxs(l,{onClick:()=>g(s),className:"w-full",variant:"primary",children:[e.jsx(B,{})," Jawab"]})})]},s.id))})]})]})]})}export{re as default};
